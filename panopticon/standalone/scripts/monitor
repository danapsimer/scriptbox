root=$(dirname $0)/..
port=${1:-7800}
jmx_port=$((port + 1))
listen_host=${2:-"localhost"}
cassandra_host=${3:-"localhost"}
JAVA_OPTS="\
	-Dlogback.configurationFile=panopticon-logback.xml \
	-Dcassandra.host=${cassandra_host} \
	-Djetty.hostname=${listen_host} \
	-Djetty.port=${port} \
	-Dcom.sun.management.jmxremote.port=$jmx_port \
    -Dcom.sun.management.jmxremote.ssl=false \
    -Dcom.sun.management.jmxremote.authenticate=false"
java $JAVA_OPTS -cp $root/target/panopticon.sa-1.0-SNAPSHOT-standalone-distro.jar org.scriptbox.panopticon.main.MonitorMain "$@"
